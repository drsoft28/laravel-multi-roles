(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0e38"],{4468:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("DTable")],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{md:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{"single-select":!0,"item-key":"id","show-select":"",headers:e.headers,items:e.desserts,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Users")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:e.initialize}},[a("v-icon",[e._v("mdi-refresh")])],1),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:e.newItem}},[a("v-icon",[e._v("mdi-plus")])],1),e.dialog?a("EditDialog",{attrs:{url:e.url,dialog:e.dialog,editedItem:e.editedItem},on:{store:e.storeItem,update:e.updateItem,close:e.closeDialog,"update:dialog":function(t){e.dialog=t}}}):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-col",{attrs:{md:"12"}},[a("v-card",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#tab-1"}},[e._v(" Roles ")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"tab-1"}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[1==e.selected.length?a("TabRole",{attrs:{"parent-item":e.selected[0]}}):e._e()],1)],1)],1)],1)],1)],1)],1)},s=[],o=a("1da1"),l=(a("96cf"),a("7db0"),a("d3b7"),a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"name"},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1)}),c=[],d=(a("99af"),{props:{url:{type:String,require:!0},dialog:{type:Boolean,default:!1},editedItem:{type:[Array,Object],require:!0}},data:function(){return{dialog_local:!1,item:{id:null,name:null}}},computed:{formTitle:function(){return this.item.id?"Edit Item":"New Item"}},methods:{save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="store",e.item.id&&(a="update"),t.prev=2,t.next=5,e.$axios.post("".concat(e.url,"/").concat(a),e.item);case 5:i=t.sent,r=i.data,r.success&&e.$emit(a,r.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log("error");case 13:e.close();case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},close:function(){this.$emit("close")}},watch:{editedItem:{immediate:!0,handler:function(e){this.item=Object.assign({},e)}},dialog:function(e){this.dialog_local=e}}}),u=d,m=a("2877"),v=a("6544"),f=a.n(v),p=a("8336"),h=a("b0af"),b=a("99d9"),x=a("62ad"),g=a("a523"),I=a("169a"),k=a("0fd9"),w=a("2fa4"),_=a("8654"),V=Object(m["a"])(u,l,c,!1,null,null,null),C=V.exports;f()(V,{VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:x["a"],VContainer:g["a"],VDialog:I["a"],VRow:k["a"],VSpacer:w["a"],VTextField:_["a"]});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("DTable",{attrs:{"parent-item":e.parentItem}})],1)},y=[],O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[e._e(),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:e.initialize}},[a("v-icon",[e._v("mdi-refresh")])],1),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"primary"},on:{click:e.newItem}},[a("v-icon",[e._v("mdi-plus")])],1),e.dialog?a("EditDialog",{attrs:{url:e.url,dialog:e.dialog,editedItem:e.editedItem},on:{store:e.storeItem,update:e.updateItem,close:e.closeDialog,"update:dialog":function(t){e.dialog=t}}}):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}],null,!0)})},T=[],j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("ValidationObserver",{ref:"form"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("ValidationProvider",{attrs:{vid:"role_id",name:"Role"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("v-autocomplete",{attrs:{label:"Role",items:e.roles,"item-text":"name","item-value":"id","error-count":1,"error-messages":i,error:i&&i.length>0},model:{value:e.item.role_id,callback:function(t){e.$set(e.item,"role_id",t)},expression:"item.role_id"}})]}}])})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1)},R=[],$={props:{url:{type:String,require:!0},dialog:{type:Boolean,default:!1},editedItem:{type:[Array,Object],require:!0}},data:function(){return{dialog_local:!1,users:[],item:{id:null,user_id:null,role_id:null}}},computed:{formTitle:function(){return this.item.id?"Edit Item":"New Item"}},mounted:function(){console.log("dialog mounted"),this.initialize()},methods:{initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("roles/list-only");case 3:a=t.sent,i=a.data,i.success&&(e.roles=i.data),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log("error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="store",e.item.id&&(a="update"),t.prev=2,t.next=5,e.$axios.post("".concat(e.url,"/").concat(a),e.item);case 5:i=t.sent,r=i.data,r.success?(e.$emit(a,r.data),e.close()):"validator"==r.type&&e.$refs.form.setErrors(r.data),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log("error");case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},close:function(){this.$emit("close")}},watch:{editedItem:{immediate:!0,handler:function(e){this.item=Object.assign({},e)}},dialog:function(e){this.dialog_local=e}}},A=$,E=a("c6a6"),S=Object(m["a"])(A,j,R,!1,null,null,null),z=S.exports;f()(S,{VAutocomplete:E["a"],VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:x["a"],VContainer:g["a"],VDialog:I["a"],VRow:k["a"],VSpacer:w["a"]});var q={components:{EditDialog:z},props:{parentItem:{type:[Array,Object],require:!0}},data:function(){return{url:"users/roles",dialog:!1,dialogDelete:!1,headers:[{text:"ID",value:"id"},{text:"Role",align:"start",sortable:!1,value:"name"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{user_id:null,id:0},defaultItem:{user_id:"",id:null}}},watch:{parentItem:{deep:!0,immediate:!0,handler:function(){this.initialize()}},dialog:function(){},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{updateItem:function(e){var t=this.desserts.find((function(t){return t.id==e.id})),a=this.desserts.indexOf(t);Object.assign(this.desserts[a],e)},storeItem:function(e){this.desserts.push(e)},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post(e.url,{user_id:e.parentItem.id});case 3:a=t.sent,i=a.data,i.success&&(e.desserts=i.data.list),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},closeDialog:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},newItem:function(){this.editedItem=Object.assign({},this.defaultItem),this.editedItem.user_id=this.parentItem.id,this.dialog=!0},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.editedIndex=t.desserts.indexOf(e),t.editedItem=Object.assign({},e),t.dialogDelete=!0;case 3:case"end":return a.stop()}}),a)})))()},deleteItemConfirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("".concat(e.url,"/destroy"),e.editedItem);case 3:a=t.sent,i=a.data,i.success?(e.desserts.splice(e.editedIndex,1),window.Toast.fire({icon:"success",title:i.data})):"message"==i.type&&window.Toast.fire({icon:"error",title:i.data}),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:e.closeDelete();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},B=q,J=a("8fea"),K=a("ce7e"),N=a("132d"),F=a("71d9"),P=a("2a7f"),U=Object(m["a"])(B,O,T,!1,null,null,null),G=U.exports;f()(U,{VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardTitle:b["c"],VDataTable:J["a"],VDialog:I["a"],VDivider:K["a"],VIcon:N["a"],VSpacer:w["a"],VToolbar:F["a"],VToolbarTitle:P["a"]});var H={components:{DTable:G},props:{parentItem:{type:[Array,Object],require:!0}},watch:{parentItem:{deep:!0,immediate:!0,handler:function(){}}}},L=H,M=Object(m["a"])(L,D,y,!1,null,null,null),Q=M.exports;f()(M,{VCard:h["a"]});var W={components:{EditDialog:C,TabRole:Q},data:function(){return{tab:0,selected:[],url:"users",dialog:!1,dialogDelete:!1,headers:[{text:"ID",value:"id"},{text:"name",align:"start",sortable:!1,value:"name"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{name:"",id:0},defaultItem:{name:"",id:null}}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.initialize()},methods:{updateItem:function(e){var t=this.desserts.find((function(t){return t.id==e.id})),a=this.desserts.indexOf(t);Object.assign(this.desserts[a],e)},storeItem:function(e){this.desserts.push(e)},initialize:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post(e.url);case 3:a=t.sent,i=a.data,i.success&&(e.desserts=i.data.list),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},closeDialog:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},newItem:function(){this.editedItem=Object.assign({},this.defaultItem),this.dialog=!0},editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.editedIndex=t.desserts.indexOf(e),t.editedItem=Object.assign({},e),t.dialogDelete=!0;case 3:case"end":return a.stop()}}),a)})))()},deleteItemConfirm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.post("".concat(e.url,"/destroy"),e.editedItem);case 3:a=t.sent,i=a.data,i.success?(e.desserts.splice(e.editedIndex,1),window.Toast.fire({icon:"success",title:i.data})):"message"==i.type&&window.Toast.fire({icon:"error",title:i.data}),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:e.closeDelete();case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},X=W,Y=a("71a3"),Z=a("c671"),ee=a("fe57"),te=a("aac8"),ae=a("9a96"),ie=Object(m["a"])(X,n,s,!1,null,null,null),re=ie.exports;f()(ie,{VBtn:p["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:x["a"],VDataTable:J["a"],VDialog:I["a"],VDivider:K["a"],VIcon:N["a"],VRow:k["a"],VSpacer:w["a"],VTab:Y["a"],VTabItem:Z["a"],VTabs:ee["a"],VTabsItems:te["a"],VTabsSlider:ae["a"],VToolbar:F["a"],VToolbarTitle:P["a"]});var ne={components:{DTable:re}},se=ne,oe=Object(m["a"])(se,i,r,!1,null,null,null);t["default"]=oe.exports;f()(oe,{VCard:h["a"]})}}]);
//# sourceMappingURL=chunk-2d0c0e38.f675a4ce.js.map